{"version":3,"sources":["context/UserContext.js","components/Footer.js","pages/Hospital/HospitalPage.js","components/NavBar.js","pages/AboutePage.js","pages/DetailPage.js","pages/HomePage.js","pages/Category/indexPage.js","pages/ProductPage.js","pages/Category/CreatePage.js","pages/Category/EditPage.js","pages/UploadPage.js","pages/LoginPage.js","pages/RegisterPage.js","pages/MemberPage.js","guard/auth.js","App.js","reportWebVitals.js","index.js"],"names":["UserStoreContext","React","createContext","UserStoreProvider","children","useState","profile","setProfile","userStore","updateProfile","Provider","value","Footer","className","Date","getFullYear","HospitalPage","hospital","setHospital","loading","setLoading","error","SetError","cancelToken","useRef","page","setPage","total","setTotal","getData","a","axios","get","current","token","resp","data","meta","pagination","console","log","useEffect","CancelToken","source","cancel","Spinner","animation","variant","response","message","Table","striped","bordered","hover","size","map","item","index","id","code","h_name","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","onChange","pageNumber","itemClass","linkClass","prevPageText","nextPageText","firstPageText","lastPageText","NavBar","history","useHistory","useContext","profileValue","JSON","parse","localStorage","getItem","getProfile","Navbar","bg","expand","to","exact","src","width","height","alt","Toggle","aria-controls","Collapse","Nav","activeClassName","NavDropdown","title","Item","onClick","replace","Divider","name","role","removeItem","AboutePage","version","setVersion","DetailPage","useParams","detail","setDetail","Button","goBack","length","CardDeck","Card","Body","Title","ch_title","Text","ch_dateadd","ch_id","HomePage","query","useQuery","controller","AbortController","signal","promise","fetch","method","then","res","json","abort","isLoading","isFetching","stringify","news","topic","IndexPage","category","setCategory","setError","push","window","confirm","delete","alert","go","ProductPage","product","setProduct","format","date","locale","th","Badge","pill","view","Image","picture","thumbnail","schema","yup","shape","required","CreatePage","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","onSubmit","post","Container","Row","Col","xs","md","Form","Group","controlId","Label","Control","type","ref","Feedback","EditPage","setValue","useCallback","put","SUPPORTED_IMAGE_FORMATS","UploadPage","addToast","useToasts","fileUpload","reader","FileReader","readAsDataURL","onload","e","base64Image","target","result","appearance","url","err","htmlFor","validate","checkFileType","includes","email","password","min","LoginPage","setItem","headers","access_token","resProfile","user","RegisterPage","MemberPage","PrivateRoute","rest","isAuth","render","location","pathname","state","from","queryClient","QueryClient","App","placement","autoDismiss","autoDismissTimeout","QueryClientProvider","client","path","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.61f5c09b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n\r\nexport const UserStoreContext = React.createContext();\r\n\r\nconst UserStoreProvider = ({children}) => {\r\n    const [profile, setProfile] = React.useState(null);\r\n    const userStore = {\r\n        profile : profile,\r\n        updateProfile : (profile) => setProfile(profile)\r\n    }\r\n    return (\r\n        <UserStoreContext.Provider value={userStore}>\r\n            {children}\r\n        </UserStoreContext.Provider>\r\n    )\r\n}\r\n\r\nexport default UserStoreProvider;","import React from 'react'\r\nconst Footer = () => {\r\n    return (\r\n        <>\r\n      <footer className=\"container\">\r\n        <p>© Company 2017-{new Date().getFullYear()}</p>\r\n      </footer>\r\n        </>\r\n    )\r\n}\r\nexport default Footer\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Spinner, Table } from \"react-bootstrap\";\r\nimport Pagination from \"react-js-pagination\";\r\nconst pageSize = 15;\r\nconst HospitalPage = () => {\r\n  const [hospital, setHospital] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, SetError] = React.useState(null);\r\n  const cancelToken = React.useRef(null); //ไม่มีผลต่อการ rerender เรียกว่า useref\r\n\r\n  //pagination\r\n  const [page, setPage] = React.useState(1);\r\n  const [total, setTotal] = React.useState(0);\r\n  const getData = async (page) => {\r\n    try {\r\n      setLoading(true);\r\n      const resp = await axios.get(\r\n        `https://api.codingthailand.com/api/hospital2?page=${page}&page_size=${pageSize}`,\r\n        {\r\n          cancelToken: cancelToken.current.token,\r\n        }\r\n      );\r\n      setHospital(resp.data.data);\r\n      setTotal(resp.data.meta.pagination.total);\r\n    } catch (err) {\r\n      console.log(err);\r\n      SetError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    cancelToken.current = axios.CancelToken.source();\r\n    getData(page);\r\n    return () => {\r\n      console.log(\"Exit Product Page\");\r\n      cancelToken.current.cancel();\r\n    };\r\n  }, [page]); //ใช้งานเมื่อไอดีเปลี่ยน\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" variant=\"success\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-danger\">\r\n        <p> เกิดข้ อผิดพลาด </p> <p> {error.response.data.message} </p>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n  const handlePageChange = (pageNumber) => {\r\n    setPage(pageNumber);\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-12\">\r\n          <h2>hospital</h2>\r\n          <Table striped bordered hover size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Code</th>\r\n                <th>Name</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {hospital.map((item, index) => {\r\n                return (\r\n                  <tr key={item.id}>\r\n                    <td>{item.id}</td>\r\n                    <td>{item.code}</td>\r\n                    <td>{item.h_name}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n          <Pagination\r\n          activePage={page}\r\n          itemsCountPerPage={pageSize}\r\n          totalItemsCount={total}\r\n          pageRangeDisplayed={15}\r\n          onChange={handlePageChange}\r\n          itemClass=\"page-item\"\r\n          linkClass=\"page-link\"\r\n          prevPageText=\"ก่อน\"\r\n          nextPageText=\"ถัดไป\"\r\n          firstPageText=\"หน้าแรก\"\r\n          lastPageText=\"หน้าสุดท้าย\"\r\n        />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HospitalPage;\r\n","import React from \"react\";\r\nimport {} from \"react-router-dom\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { UserStoreContext } from \"../context/UserContext\";\r\n\r\nconst NavBar = () => {\r\n  const history = useHistory();\r\n  // const [profile, setProfile] = React.useState(null);\r\n  const userStore = React.useContext(UserStoreContext);\r\n\r\n  const getProfile = () => {\r\n    const profileValue = JSON.parse(localStorage.getItem(\"profile\"));\r\n    if (profileValue) {\r\n      userStore.updateProfile(profileValue);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n/* old version no context\r\n  const getProfile = () => {\r\n    const profileValue = JSON.parse(localStorage.getItem(\"profile\"));\r\n    if (profileValue) {\r\n      setProfile(profileValue);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"useeffect navbar\");\r\n    getProfile();\r\n  }, []);\r\n  */\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"profile\");\r\n    history.replace('/');\r\n    // history.go(0);\r\n    userStore.updateProfile(null);\r\n  };\r\n  return (\r\n    <>\r\n      <Navbar bg=\"success\" expand=\"lg\">\r\n        <NavLink className=\"navbar-brand\" to=\"/\" exact>\r\n          <img\r\n            src=\"./logo192.png\"\r\n            width=\"30\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top\"\r\n            alt=\"React Bootstrap logo\"\r\n          />{\" \"}\r\n          Suttipong\r\n        </NavLink>\r\n        {/* <Navbar.Brand href=\"#home\">\r\n\r\n        \r\n        </Navbar.Brand> */}\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <NavLink className=\"nav-link\" to=\"/\" exact activeClassName=\"active\">\r\n              Suttipong HOME\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/about\" activeClassName=\"active\">\r\n              เกี่ยวกับเรา\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"nav-link\"\r\n              to=\"/product\"\r\n              activeClassName=\"active\"\r\n            >\r\n              สินค้า\r\n            </NavLink>\r\n            <NavDropdown\r\n              title=\"workshop (Pagination + CRUD)\"\r\n              id=\"basic-nav-dropdown\"\r\n            >\r\n              <NavDropdown.Item\r\n                onClick={() => {\r\n                  history.replace(\"/hospital\");\r\n                }}\r\n              >\r\n                ข้อมูลสถานพยาบาล (Pagination)\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                onClick={() => {\r\n                  history.replace(\"/category\");\r\n                }}\r\n              >\r\n                หมวดหมู่ข่าว (CRUD)\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n            <NavLink className=\"nav-link\" to=\"/upload\" activeClassName=\"active\">\r\n              UploadFile\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/member\" activeClassName=\"active\">\r\n              Member\r\n            </NavLink>\r\n          </Nav>\r\n\r\n          {userStore.profile ? (\r\n            <span className=\"navbar-text text-white\">\r\n              ยินดีต้อนรับ {userStore.profile.name} Role : {userStore.profile.role}\r\n              <button className=\"btn btn-danger ml-2\" onClick={logout}>\r\n                Log out\r\n              </button>\r\n            </span>\r\n          ) : (\r\n            <>\r\n              <Nav>\r\n                <NavLink\r\n                  className=\"nav-link\"\r\n                  to=\"/login\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  Login\r\n                </NavLink>\r\n                <NavLink\r\n                  className=\"nav-link\"\r\n                  to=\"/register\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  Register\r\n                </NavLink>\r\n              </Nav>\r\n            </>\r\n          )}\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nconst AboutePage = () => {\r\n    const [version, setVersion] = React.useState('')\r\n\r\n    const getData  = async () => {\r\n            const resp = await axios.get('https://api.codingthailand.com/api/version');\r\n            setVersion(resp.data.data.version);\r\n        }\r\n    React.useEffect(() => {\r\n        // async function getData() {\r\n        //     const resp = await axios.get('https://api.codingthailand.com/api/version');\r\n        //     setVersion(resp.data.data.version)\r\n        // }\r\n        getData();\r\n    },[])\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row mt-4\">\r\n                <div className=\"col-md-12\">\r\n                    <h2>เกี่ยวกับเรา</h2>\r\n                    {\r\n                        version && (\r\n                            <p>\r\n                                Backend API VERSION : {version}\r\n                            </p>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AboutePage\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Spinner, Card, CardDeck, Button } from \"react-bootstrap\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nconst DetailPage = () => {\r\n  const { id, title } = useParams();\r\n  const history = useHistory();\r\n  const [detail, setDetail] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, SetError] = React.useState(null);\r\n  const cancelToken = React.useRef(null); //ไม่มีผลต่อการ rerender เรียกว่า useref\r\n  const getData = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      const resp = await axios.get(\r\n        `https://api.codingthailand.com/api/course/${id}`,\r\n        {\r\n          cancelToken: cancelToken.current.token,\r\n        }\r\n      );\r\n      setDetail(resp.data.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      SetError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    cancelToken.current = axios.CancelToken.source();\r\n    getData(id);\r\n    return () => {\r\n      console.log(\"Exit Product Page\");\r\n      cancelToken.current.cancel();\r\n    };\r\n  }, [id]); //ใช้งานเมื่อไอดีเปลี่ยน\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" variant=\"success\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-danger\">\r\n        <p>เกิดข้อผิดพลาด</p>\r\n        <p>{error.response.data.message}</p>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-12\">\r\n        <Button variant=\"secondary\" onClick={() => {\r\n            history.goBack()\r\n        }}>Back</Button>{' '}\r\n          <h2>{title}</h2>\r\n          <div className=\"row\">\r\n            {detail.length > 0 ? (\r\n              <CardDeck>\r\n                {detail.map((item, index) => {\r\n                  return (\r\n                    <div className=\"col-md-4\" key={item.ch_id}>\r\n                      <Card className=\"mb-4 shadow-sm\">\r\n                        <Card.Body>\r\n                          <Card.Title>{item.ch_title}</Card.Title>\r\n                          <Card.Text>\r\n                            {item.ch_dateadd}\r\n                          </Card.Text>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                          <small className=\"text-muted\">\r\n                            Last updated 3 mins ago\r\n                          </small>\r\n                        </Card.Footer>\r\n                      </Card>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </CardDeck>\r\n            ) : (\r\n              <div className=\"text-danger mx-auto\"> ไม่พบข้อมูล </div>\r\n            )}\r\n          </div>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailPage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nconst HomePage = () => {\r\n  // const { isLoading, error, data, isFetching } = useQuery(\"repoData\", () =>\r\n  //   fetch(\r\n  //     \"https://api.codingthailand.com/api/news\"\r\n  //   ).then((res) => res.json())\r\n  // );\r\n\r\n  const query = useQuery(\"repoData\", () => {\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n      const promise =  fetch(\r\n        \"https://api.codingthailand.com/api/news\",{\r\n          method : 'get',\r\n          signal : signal\r\n        }\r\n      ).then((res) => res.json());\r\n        \r\n      //cancel request\r\n      promise.cancel = () => controller.abort();\r\n      return promise;\r\n    }\r\n  );\r\n  const { isLoading, error, data, isFetching } = query;\r\n  \r\n  if (isLoading === true) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" variant=\"success\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-danger\">\r\n        <p>เกิดข้อผิดพลาด</p>\r\n        <p>{JSON.stringify(error)}</p>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <main role=\"main\">\r\n        {/* Main jumbotron for a primary marketing message or call to action */}\r\n        <div className=\"jumbotron\">\r\n          <div className=\"container\">\r\n            <h1 className=\"display-3\">Welcome</h1>\r\n            <p>พัฒนาด้วย React v.2</p>\r\n            <p>\r\n              <Link\r\n                to=\"/product\"\r\n                className=\"btn btn-primary btn-lg\"\r\n                role=\"button\"\r\n              >\r\n                สินค้าทั้งหมด\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n          {/* Example row of columns */}\r\n          <div className=\"row\">\r\n            <div className=\"text-center\">\r\n              {isFetching ? 'Updating' : null}\r\n            </div>\r\n            {\r\n              data.data.map((news, index) => {\r\n                return (\r\n                  <div className=\"col-md-4\" key={news.id}>\r\n                    <h2>{news.topic}</h2>\r\n                    <p>\r\n                      {news.detail}\r\n                    </p>\r\n                    <p>\r\n                      หมวดหมู่ : {news.name}\r\n                    </p>\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n          <hr />\r\n        </div>{\" \"}\r\n        {/* /container */}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Spinner, Table, Button } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BsPencil, BsTrash } from \"react-icons/bs\";\r\nconst IndexPage = () => {\r\n  const [category, setCategory] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(null);\r\n  const cancelToken = React.useRef(null);\r\n  const history = useHistory();\r\n  const getData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const resp = await axios.get(\r\n        `https://api.codingthailand.com/api/category`,\r\n        {\r\n          cancelToken: cancelToken.current.token,\r\n        }\r\n      );\r\n      setCategory(resp.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    cancelToken.current = axios.CancelToken.source();\r\n    getData();\r\n    return () => {\r\n      cancelToken.current.cancel();\r\n    };\r\n  }, []); //ใช้งานเมื่อไอดีเปลี่ยน\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" variant=\"success\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-danger\">\r\n        <p> เกิดข้ อผิดพลาด </p> <p> {JSON.stringify(error)} </p>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-12\">\r\n          <Button\r\n            className=\"mb-3\"\r\n            variant=\"success\"\r\n            onClick={() => history.push(\"/category/create\")}\r\n          >\r\n            Crate\r\n          </Button>\r\n          <h2>หมวดหมู่ข่าว</h2>\r\n          <Table striped bordered hover size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>name</th>\r\n                <th>Tools</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {category.map((item, index) => {\r\n                return (\r\n                  <tr key={item.id}>\r\n                    <td>{item.id}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>\r\n                      <Button className=\"ml-2\" variant=\"outline-info\" onClick={() => history.push(`/category/edit/${item.id}`)}>\r\n                        <BsPencil />\r\n                      </Button>\r\n                      <Button className=\"ml-2\" variant=\"outline-danger\" onClick={async () => {\r\n                        const isConfirm = window.confirm(`ต้องการลบ ${item.name} ?`);\r\n                        if(isConfirm){\r\n                          const resp = await axios.delete(`https://api.codingthailand.com/api/category/${item.id}`);\r\n                          alert(resp.data.message);\r\n                          history.go(0);\r\n                        }\r\n                      }}>\r\n                        <BsTrash />\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Table, Image, Badge, Spinner } from \"react-bootstrap\";\r\nimport { format } from \"date-fns\";\r\nimport { th } from \"date-fns/locale\";\r\nimport { BsEyeFill } from \"react-icons/bs\";\r\nimport { Link } from \"react-router-dom\";\r\nconst ProductPage = () => {\r\n  const [product, setProduct] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, SetError] = React.useState(null);\r\n  const cancelToken = React.useRef(null); //ไม่มีผลต่อการ rerender เรียกว่า useref\r\n  const getData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const resp = await axios.get(\r\n        \"https://api.codingthailand.com/api/course\",\r\n        {\r\n          cancelToken: cancelToken.current.token,\r\n        }\r\n      );\r\n      setProduct(resp.data.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      SetError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    cancelToken.current = axios.CancelToken.source();\r\n    getData()\r\n    return () => {\r\n      console.log(\"Exit Product Page\")\r\n      cancelToken.current.cancel()\r\n    };\r\n  }, []);\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" variant=\"success\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-danger\">\r\n        <p>เกิดข้อผิดพลาด</p>\r\n        <p>{error.response.data.message}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-12\">\r\n          <h2>Product</h2>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>course Name</th>\r\n                <th>course Description</th>\r\n                <th>Date Create</th>\r\n                <th>View</th>\r\n                <th>img</th>\r\n                <th>Tools</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {product.map((item, index) => {\r\n                return (\r\n                  <tr key={item.id}>\r\n                    <td>{item.id}</td>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.detail}</td>\r\n                    <td>\r\n                      {format(new Date(item.date), \"dd MMMM yyyy\", {\r\n                        locale: th,\r\n                      })}\r\n                    </td>\r\n                    <td>\r\n                      <Badge pill variant=\"primary\">\r\n                        {item.view}\r\n                      </Badge>\r\n                    </td>\r\n                    <td>\r\n                      <Image\r\n                        src={item.picture}\r\n                        thumbnail\r\n                        alt={item.title}\r\n                        width={100}\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                        <Link to={`/detail/${item.id}/title/${item.title}`}>\r\n                            <BsEyeFill />\r\n                        </Link>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nconst schema = yup.object().shape({\r\n  name: yup.string().required(\"insert data\"),\r\n});\r\nconst CreatePage = () => {\r\n    let history = useHistory();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const onSubmit = async (data) => {\r\n    // console.log(data);\r\n    const apiUrl = \"https://api.codingthailand.com/api/category\";\r\n    const resp = await axios.post(apiUrl, {\r\n      name: data.name,\r\n    });\r\n    alert(resp.data.message);\r\n    history.replace('/category');\r\n    console.log(resp);\r\n  };\r\n  return (\r\n    <>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col xs={12} md={8}>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Category</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.name ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.name && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.name.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatePage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nconst schema = yup.object().shape({\r\n  name: yup.string().required(\"insert data\"),\r\n});\r\nconst EditPage = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n  //   const getData = async (id) => {\r\n  //     const resp = await axios.get(\r\n  //       `https://api.codingthailand.com/api/category/${id}`\r\n  //     );\r\n  //     setValue(\"name\", resp.data.name);\r\n  //   };\r\n  //   React.useEffect(() => {\r\n  //     getData(id);\r\n  //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  //   }, [id]); //ใช้งานเมื่อไอดีเปลี่ยน\r\n\r\n  const getData = React.useCallback(async () => {\r\n    const resp = await axios.get(\r\n      `https://api.codingthailand.com/api/category/${id}`\r\n    );\r\n    setValue(\"name\", resp.data.name);\r\n  }, [id, setValue]);\r\n  React.useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [getData]); //ใช้งานเมื่อไอดีเปลี่ยน\r\n\r\n  const onSubmit = async (data) => {\r\n    // console.log(data);\r\n    const apiUrl = \"https://api.codingthailand.com/api/category\";\r\n    const resp = await axios.put(apiUrl, {\r\n      id: id,\r\n      name: data.name,\r\n    });\r\n    alert(resp.data.message);\r\n    history.replace(\"/category\");\r\n    console.log(resp);\r\n  };\r\n  return (\r\n    <>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col xs={12} md={8}>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Category</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.name ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.name && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.name.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditPage;\r\n","import React from \"react\";\r\nimport { Col, Row, Container } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nconst SUPPORTED_IMAGE_FORMATS = [\"image/jpg\", \"image/jpeg\"];\r\nconst UploadPage = () => {\r\n  const history = useHistory();\r\n  const { addToast } = useToasts();\r\n  const { handleSubmit, errors, register } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(data);\r\n    try {\r\n      let fileUpload = data.picture[0];\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(fileUpload);\r\n      reader.onload = async (e) => {\r\n        let base64Image = e.target.result;\r\n        const URL_API = `https://api.codingthailand.com/api/upload`;\r\n        const resp = await axios.post(URL_API, {\r\n          picture: base64Image,\r\n        });\r\n        addToast(resp.data.data.message, { appearance: 'success'});\r\n        console.log(resp.data.data.url);\r\n        history.replace(\"/\");\r\n      };\r\n    } catch (err) {\r\n      console.log(err);\r\n      addToast(JSON.stringify(err), { appearance: 'error'});\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col md={4}>\r\n            <h1>Upload Image</h1>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleFormControlFile1\">\r\n                  Example file input\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"picture\"\r\n                  ref={register({\r\n                    required: \"กรุณาเลือกรูปภาพ\",\r\n                    validate: {\r\n                      checkFileType: (value) => {\r\n                        return (\r\n                          value &&\r\n                          SUPPORTED_IMAGE_FORMATS.includes(value[0].type)\r\n                        );\r\n                      },\r\n                    },\r\n                  })}\r\n                  className={`form-control-file ${\r\n                    errors.picture ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                  id=\"exampleFormControlFile1\"\r\n                />\r\n                {errors.picture && errors.picture.type === \"required\" && (\r\n                  <div className=\"invalid-feedback\">\r\n                    {errors.picture.message}\r\n                  </div>\r\n                )}\r\n                {errors.picture && errors.picture.type === \"checkFileType\" && (\r\n                  <div className=\"invalid-feedback\">เฉพาะ .jpg หรือ jpeg</div>\r\n                )}\r\n              </div>\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Upload\r\n              </button>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadPage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { UserStoreContext } from \"../context/UserContext\";\r\nconst schema = yup.object().shape({\r\n  email: yup.string().required(\"insert email\").email(\"insert email format\"),\r\n  password: yup.string().required(\"insert password\").min(3, 'password 3 ตัว'),\r\n});\r\nconst LoginPage = () => {\r\n    const { addToast } = useToasts();\r\n    let history = useHistory();\r\n    const userStore = React.useContext(UserStoreContext);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const onSubmit = async (data) => {\r\n    // console.log(data);\r\n    try{\r\n        const apiUrl = \"https://api.codingthailand.com/api/login\";\r\n        const resp = await axios.post(apiUrl, {\r\n          email : data.email,\r\n          password : data.password\r\n        });\r\n        localStorage.setItem('token', JSON.stringify(resp.data));\r\n\r\n        //get profile\r\n        const urlProfile = 'https://api.codingthailand.com/api/profile';\r\n        const resProfile = await axios.get(urlProfile, {\r\n            headers: { \r\n                'Authorization': `Bearer ${resp.data.access_token}` \r\n            }\r\n          });\r\n        localStorage.setItem('profile', JSON.stringify(resProfile.data.data.user));\r\n\r\n        addToast('Login Success', { appearance: 'success'});\r\n        // history.go(0);\r\n        // history.go(0);\r\n        \r\n        //update profile by context\r\n        const profileValue = JSON.parse(localStorage.getItem('profile'));\r\n        userStore.updateProfile(profileValue); \r\n        history.replace('/');\r\n\r\n    }catch(error){\r\n        addToast(error.response.data.message, { appearance: 'error'});\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col xs={12} md={8}>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <Form.Group controlId=\"Email\">\r\n                <Form.Label>email</Form.Label>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.email ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.email && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.email.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"Password\">\r\n                <Form.Label>password</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.password ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.password && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.password.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Register\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nconst schema = yup.object().shape({\r\n  name: yup.string().required(\"insert name\"),\r\n  email: yup.string().required(\"insert email\").email(\"insert email format\"),\r\n  password: yup.string().required(\"insert password\").min(3, 'password 3 ตัว'),\r\n});\r\nconst RegisterPage = () => {\r\n    const { addToast } = useToasts();\r\n    let history = useHistory();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const onSubmit = async (data) => {\r\n    // console.log(data);\r\n    try{\r\n        const apiUrl = \"https://api.codingthailand.com/api/register\";\r\n        const resp = await axios.post(apiUrl, {\r\n          name: data.name,\r\n          email : data.email,\r\n          password : data.password\r\n        });\r\n        addToast(resp.data.message, { appearance: 'success'});\r\n        history.replace('/login');\r\n        console.log(resp);\r\n    }catch(error){\r\n        addToast(error.response.data.errors.email[0], { appearance: 'error'});\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Container className=\"mt-4\">\r\n        <Row>\r\n          <Col xs={12} md={8}>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <Form.Group controlId=\"Name\">\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.name ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.name && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.name.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"Email\">\r\n                <Form.Label>email</Form.Label>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.email ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.email && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.email.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"Password\">\r\n                <Form.Label>password</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  ref={register}\r\n                  className={`form-control ${errors.password ? \"is-invalid\" : \"\"}`}\r\n                />\r\n                {errors.password && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.password.message}\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Register\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserStoreContext } from \"../context/UserContext\";\r\n\r\nconst MemberPage = () => {\r\n  const userStore = React.useContext(UserStoreContext);\r\n\r\n  const [version, setVersion] = React.useState(\"\");\r\n\r\n  const getData = async () => {\r\n    const resp = await axios.get(\"https://api.codingthailand.com/api/version\");\r\n    setVersion(resp.data.data.version);\r\n  };\r\n  React.useEffect(() => {\r\n    // async function getData() {\r\n    //     const resp = await axios.get('https://api.codingthailand.com/api/version');\r\n    //     setVersion(resp.data.data.version)\r\n    // }\r\n    getData();\r\n  }, []);\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-12\">\r\n          <h2>สำหรับสมาชิก</h2>\r\n          {userStore.profile ? (\r\n            <p>\r\n              welcome {userStore.profile.name} email : {userStore.profile.email}\r\n            </p>\r\n          ) : null}\r\n\r\n          {version && <p>Backend API VERSION : {version}</p>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MemberPage;\r\n","import React from \"react\";\r\nimport {\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n    let isAuth = false;\r\n\r\n    const token = JSON.parse(localStorage.getItem('token'));\r\n    if(token){\r\n        isAuth = true;\r\n    }\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={({ location }) =>\r\n        isAuth ? (\r\n            children\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/login\",\r\n                state: { from: location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }","import React from \"react\";\r\nimport { ToastProvider } from \"react-toast-notifications\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport UserStoreProvider from \"./context/UserContext\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer\";\r\nimport HospitalPage from \"./pages/Hospital/HospitalPage\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport AboutePage from \"./pages/AboutePage\";\r\nimport DetailPage from \"./pages/DetailPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport IndexPage from \"./pages/Category/indexPage\";\r\nimport ProductPage from \"./pages/ProductPage\";\r\nimport CreatePage from \"./pages/Category/CreatePage\";\r\nimport EditPage from \"./pages/Category/EditPage\";\r\nimport UploadPage from \"./pages/UploadPage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport MemberPage from \"./pages/MemberPage\";\r\nimport PrivateRoute from \"./guard/auth\";\r\n\r\nconst queryClient = new QueryClient();\r\nfunction App() {\r\n  return (\r\n    <UserStoreProvider>\r\n\r\n    \r\n    <ToastProvider\r\n      placement=\"bottom-center\"\r\n      autoDismiss\r\n      autoDismissTimeout={3 * 1000}\r\n    >\r\n      <QueryClientProvider client={queryClient}>\r\n        <Router>\r\n          <NavBar />\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <HomePage />\r\n            </Route>\r\n            <Route path=\"/about\">\r\n              <AboutePage />\r\n            </Route>\r\n            <Route path=\"/product\">\r\n              <ProductPage />\r\n            </Route>\r\n            <Route path=\"/detail/:id/title/:title\">\r\n              <DetailPage />\r\n            </Route>\r\n            <Route path=\"/hospital\">\r\n              <HospitalPage />\r\n            </Route>\r\n            <Route path=\"/upload\">\r\n              <UploadPage />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n              <LoginPage />\r\n            </Route>\r\n            <Route path=\"/register\">\r\n              <RegisterPage />\r\n            </Route>\r\n            <PrivateRoute path=\"/member\">\r\n              <MemberPage />\r\n            </PrivateRoute>\r\n            <Route\r\n              path=\"/category\"\r\n              render={({ match: { url } }) => (\r\n                <>\r\n                  <Route path={`${url}/`} exact>\r\n                    <IndexPage />\r\n                  </Route>\r\n\r\n                  <Route path={`${url}/create`}>\r\n                    <CreatePage />\r\n                  </Route>\r\n                  <Route path={`${url}/edit/:id`}>\r\n                    <EditPage />\r\n                  </Route>\r\n                </>\r\n              )}\r\n            ></Route>\r\n          </Switch>\r\n          <Footer />\r\n        </Router>\r\n      </QueryClientProvider>\r\n    </ToastProvider>\r\n    </UserStoreProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}