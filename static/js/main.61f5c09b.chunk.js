(this["webpackJsonpreact-online-course"]=this["webpackJsonpreact-online-course"]||[]).push([[0],{157:function(e,t,a){},713:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(32),s=a.n(r),i=(a(156),a(157),a(40)),l=a(730),o=a(143),j=a(14),d=a(1),b=n.a.createContext(),u=function(e){var t=e.children,a=n.a.useState(null),c=Object(j.a)(a,2),r=c[0],s=c[1],i={profile:r,updateProfile:function(e){return s(e)}};return Object(d.jsx)(b.Provider,{value:i,children:t})},h=a(19),m=a(21),p=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("footer",{className:"container",children:Object(d.jsxs)("p",{children:["\xa9 Company 2017-",(new Date).getFullYear()]})})})},x=a(11),O=a.n(x),f=a(15),v=a(17),g=a.n(v),N=a(719),w=a(720),y=a(138),k=a.n(y),C=function(){var e=n.a.useState([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=n.a.useState(!1),s=Object(j.a)(r,2),i=s[0],l=s[1],o=n.a.useState(null),b=Object(j.a)(o,2),u=b[0],h=b[1],m=n.a.useRef(null),p=n.a.useState(1),x=Object(j.a)(p,2),v=x[0],y=x[1],C=n.a.useState(0),S=Object(j.a)(C,2),F=S[0],T=S[1],P=function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,g.a.get("https://api.codingthailand.com/api/hospital2?page=".concat(t,"&page_size=").concat(15),{cancelToken:m.current.token});case 4:a=e.sent,c(a.data.data),T(a.data.meta.pagination.total),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();if(n.a.useEffect((function(){return m.current=g.a.CancelToken.source(),P(v),function(){console.log("Exit Product Page"),m.current.cancel()}}),[v]),!0===i)return Object(d.jsx)("div",{className:"text-center mt-5",children:Object(d.jsx)(N.a,{animation:"border",variant:"success"})});if(u)return Object(d.jsxs)("div",{className:"text-center mt-5 text-danger",children:[Object(d.jsx)("p",{children:" \u0e40\u0e01\u0e34\u0e14\u0e02\u0e49 \u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 "})," ",Object(d.jsxs)("p",{children:[" ",u.response.data.message," "]})," "]});return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("h2",{children:"hospital"}),Object(d.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Id"}),Object(d.jsx)("th",{children:"Code"}),Object(d.jsx)("th",{children:"Name"})]})}),Object(d.jsx)("tbody",{children:a.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.code}),Object(d.jsx)("td",{children:e.h_name})]},e.id)}))})]}),Object(d.jsx)(k.a,{activePage:v,itemsCountPerPage:15,totalItemsCount:F,pageRangeDisplayed:15,onChange:function(e){y(e)},itemClass:"page-item",linkClass:"page-link",prevPageText:"\u0e01\u0e48\u0e2d\u0e19",nextPageText:"\u0e16\u0e31\u0e14\u0e44\u0e1b",firstPageText:"\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e23\u0e01",lastPageText:"\u0e2b\u0e19\u0e49\u0e32\u0e2a\u0e38\u0e14\u0e17\u0e49\u0e32\u0e22"})]})})})},S=a(728),F=a(731),T=a(726),P=function(){var e=Object(m.g)(),t=n.a.useContext(b);n.a.useEffect((function(){!function(){var e=JSON.parse(localStorage.getItem("profile"));e&&t.updateProfile(e)}()}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(S.a,{bg:"success",expand:"lg",children:[Object(d.jsxs)(h.c,{className:"navbar-brand",to:"/",exact:!0,children:[Object(d.jsx)("img",{src:"./logo192.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})," ","Suttipong"]}),Object(d.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsxs)(S.a.Collapse,{id:"basic-navbar-nav",children:[Object(d.jsxs)(F.a,{className:"mr-auto",children:[Object(d.jsx)(h.c,{className:"nav-link",to:"/",exact:!0,activeClassName:"active",children:"Suttipong HOME"}),Object(d.jsx)(h.c,{className:"nav-link",to:"/about",activeClassName:"active",children:"\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32"}),Object(d.jsx)(h.c,{className:"nav-link",to:"/product",activeClassName:"active",children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(d.jsxs)(T.a,{title:"workshop (Pagination + CRUD)",id:"basic-nav-dropdown",children:[Object(d.jsx)(T.a.Item,{onClick:function(){e.replace("/hospital")},children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e16\u0e32\u0e19\u0e1e\u0e22\u0e32\u0e1a\u0e32\u0e25 (Pagination)"}),Object(d.jsx)(T.a.Divider,{}),Object(d.jsx)(T.a.Item,{onClick:function(){e.replace("/category")},children:"\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e02\u0e48\u0e32\u0e27 (CRUD)"})]}),Object(d.jsx)(h.c,{className:"nav-link",to:"/upload",activeClassName:"active",children:"UploadFile"}),Object(d.jsx)(h.c,{className:"nav-link",to:"/member",activeClassName:"active",children:"Member"})]}),t.profile?Object(d.jsxs)("span",{className:"navbar-text text-white",children:["\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a ",t.profile.name," Role : ",t.profile.role,Object(d.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("profile"),e.replace("/"),t.updateProfile(null)},children:"Log out"})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(F.a,{children:[Object(d.jsx)(h.c,{className:"nav-link",to:"/login",activeClassName:"active",children:"Login"}),Object(d.jsx)(h.c,{className:"nav-link",to:"/register",activeClassName:"active",children:"Register"})]})})]})]})})},I=function(){var e=n.a.useState(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=function(){var e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.codingthailand.com/api/version");case 2:t=e.sent,c(t.data.data.version);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){r()}),[]),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("h2",{children:"\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32"}),a&&Object(d.jsxs)("p",{children:["Backend API VERSION : ",a]})]})})})},E=a(142),R=a(721),L=a(733),D=function(){var e=Object(m.h)(),t=e.id,a=e.title,c=Object(m.g)(),r=n.a.useState([]),s=Object(j.a)(r,2),i=s[0],l=s[1],o=n.a.useState(!1),b=Object(j.a)(o,2),u=b[0],h=b[1],p=n.a.useState(null),x=Object(j.a)(p,2),v=x[0],w=x[1],y=n.a.useRef(null),k=function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,g.a.get("https://api.codingthailand.com/api/course/".concat(t),{cancelToken:y.current.token});case 4:a=e.sent,l(a.data.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),w(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}();return n.a.useEffect((function(){return y.current=g.a.CancelToken.source(),k(t),function(){console.log("Exit Product Page"),y.current.cancel()}}),[t]),!0===u?Object(d.jsx)("div",{className:"text-center mt-5",children:Object(d.jsx)(N.a,{animation:"border",variant:"success"})}):v?Object(d.jsxs)("div",{className:"text-center mt-5 text-danger",children:[Object(d.jsx)("p",{children:"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14"}),Object(d.jsx)("p",{children:v.response.data.message})]}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)(E.a,{variant:"secondary",onClick:function(){c.goBack()},children:"Back"})," ",Object(d.jsx)("h2",{children:a}),Object(d.jsx)("div",{className:"row",children:i.length>0?Object(d.jsx)(R.a,{children:i.map((function(e,t){return Object(d.jsx)("div",{className:"col-md-4",children:Object(d.jsxs)(L.a,{className:"mb-4 shadow-sm",children:[Object(d.jsxs)(L.a.Body,{children:[Object(d.jsx)(L.a.Title,{children:e.ch_title}),Object(d.jsx)(L.a.Text,{children:e.ch_dateadd})]}),Object(d.jsx)(L.a.Footer,{children:Object(d.jsx)("small",{className:"text-muted",children:"Last updated 3 mins ago"})})]})},e.ch_id)}))}):Object(d.jsx)("div",{className:"text-danger mx-auto",children:" \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 "})}),Object(d.jsx)("hr",{})]})})})},B=a(732),J=function(){var e=Object(B.a)("repoData",(function(){var e=new AbortController,t=e.signal,a=fetch("https://api.codingthailand.com/api/news",{method:"get",signal:t}).then((function(e){return e.json()}));return a.cancel=function(){return e.abort()},a})),t=e.isLoading,a=e.error,c=e.data,n=e.isFetching;return!0===t?Object(d.jsx)("div",{className:"text-center mt-5",children:Object(d.jsx)(N.a,{animation:"border",variant:"success"})}):a?Object(d.jsxs)("div",{className:"text-center mt-5 text-danger",children:[Object(d.jsx)("p",{children:"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14"}),Object(d.jsx)("p",{children:JSON.stringify(a)})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("main",{role:"main",children:[Object(d.jsx)("div",{className:"jumbotron",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"display-3",children:"Welcome"}),Object(d.jsx)("p",{children:"\u0e1e\u0e31\u0e12\u0e19\u0e32\u0e14\u0e49\u0e27\u0e22 React v.2"}),Object(d.jsx)("p",{children:Object(d.jsx)(h.b,{to:"/product",className:"btn btn-primary btn-lg",role:"button",children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})})]})}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"text-center",children:n?"Updating":null}),c.data.map((function(e,t){return Object(d.jsxs)("div",{className:"col-md-4",children:[Object(d.jsx)("h2",{children:e.topic}),Object(d.jsx)("p",{children:e.detail}),Object(d.jsxs)("p",{children:["\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48 : ",e.name]})]},e.id)}))]}),Object(d.jsx)("hr",{})]})," "]})})},q=a(67),G=function(){var e=n.a.useState([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=n.a.useState(!1),s=Object(j.a)(r,2),i=s[0],l=s[1],o=n.a.useState(null),b=Object(j.a)(o,2),u=b[0],h=b[1],p=n.a.useRef(null),x=Object(m.g)(),v=function(){var e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,g.a.get("https://api.codingthailand.com/api/category",{cancelToken:p.current.token});case 4:t=e.sent,c(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),h(e.t0);case 12:return e.prev=12,l(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){return p.current=g.a.CancelToken.source(),v(),function(){p.current.cancel()}}),[]),!0===i?Object(d.jsx)("div",{className:"text-center mt-5",children:Object(d.jsx)(N.a,{animation:"border",variant:"success"})}):u?Object(d.jsxs)("div",{className:"text-center mt-5 text-danger",children:[Object(d.jsx)("p",{children:" \u0e40\u0e01\u0e34\u0e14\u0e02\u0e49 \u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 "})," ",Object(d.jsxs)("p",{children:[" ",JSON.stringify(u)," "]})," "]}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)(E.a,{className:"mb-3",variant:"success",onClick:function(){return x.push("/category/create")},children:"Crate"}),Object(d.jsx)("h2",{children:"\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e02\u0e48\u0e32\u0e27"}),Object(d.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Id"}),Object(d.jsx)("th",{children:"name"}),Object(d.jsx)("th",{children:"Tools"})]})}),Object(d.jsx)("tbody",{children:a.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.name}),Object(d.jsxs)("td",{children:[Object(d.jsx)(E.a,{className:"ml-2",variant:"outline-info",onClick:function(){return x.push("/category/edit/".concat(e.id))},children:Object(d.jsx)(q.b,{})}),Object(d.jsx)(E.a,{className:"ml-2",variant:"outline-danger",onClick:Object(f.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a ".concat(e.name," ?"))){t.next=7;break}return t.next=4,g.a.delete("https://api.codingthailand.com/api/category/".concat(e.id));case 4:a=t.sent,alert(a.data.message),x.go(0);case 7:case"end":return t.stop()}}),t)}))),children:Object(d.jsx)(q.c,{})})]})]},e.id)}))})]})]})})})},U=a(722),M=a(723),_=a(727),A=a(144),z=function(){var e=n.a.useState([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=n.a.useState(!1),s=Object(j.a)(r,2),i=s[0],l=s[1],o=n.a.useState(null),b=Object(j.a)(o,2),u=b[0],m=b[1],p=n.a.useRef(null),x=function(){var e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,g.a.get("https://api.codingthailand.com/api/course",{cancelToken:p.current.token});case 4:t=e.sent,c(t.data.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),m(e.t0);case 12:return e.prev=12,l(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){return p.current=g.a.CancelToken.source(),x(),function(){console.log("Exit Product Page"),p.current.cancel()}}),[]),!0===i?Object(d.jsx)("div",{className:"text-center mt-5",children:Object(d.jsx)(N.a,{animation:"border",variant:"success"})}):u?Object(d.jsxs)("div",{className:"text-center mt-5 text-danger",children:[Object(d.jsx)("p",{children:"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14"}),Object(d.jsx)("p",{children:u.response.data.message})]}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("h2",{children:"Product"}),Object(d.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Id"}),Object(d.jsx)("th",{children:"course Name"}),Object(d.jsx)("th",{children:"course Description"}),Object(d.jsx)("th",{children:"Date Create"}),Object(d.jsx)("th",{children:"View"}),Object(d.jsx)("th",{children:"img"}),Object(d.jsx)("th",{children:"Tools"})]})}),Object(d.jsx)("tbody",{children:a.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:e.detail}),Object(d.jsx)("td",{children:Object(_.a)(new Date(e.date),"dd MMMM yyyy",{locale:A.th})}),Object(d.jsx)("td",{children:Object(d.jsx)(U.a,{pill:!0,variant:"primary",children:e.view})}),Object(d.jsx)("td",{children:Object(d.jsx)(M.a,{src:e.picture,thumbnail:!0,alt:e.title,width:100})}),Object(d.jsx)("td",{children:Object(d.jsx)(h.b,{to:"/detail/".concat(e.id,"/title/").concat(e.title),children:Object(d.jsx)(q.a,{})})})]},e.id)}))})]})]})})})},V=a(724),H=a(725),W=a(148),Y=a(729),K=a(29),Q=a(41),X=a(26),Z=X.a().shape({name:X.b().required("insert data")}),$=function(){var e=Object(m.g)(),t=Object(K.b)({resolver:Object(Q.a)(Z)}),a=t.register,c=t.handleSubmit,n=t.formState.errors,r=function(){var t=Object(f.a)(O.a.mark((function t(a){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.codingthailand.com/api/category",t.next=3,g.a.post("https://api.codingthailand.com/api/category",{name:a.name});case 3:c=t.sent,alert(c.data.message),e.replace("/category"),console.log(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V.a,{className:"mt-4",children:Object(d.jsx)(H.a,{children:Object(d.jsx)(W.a,{xs:12,md:8,children:Object(d.jsxs)(Y.a,{onSubmit:c(r),children:[Object(d.jsxs)(Y.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(Y.a.Label,{children:"Category"}),Object(d.jsx)(Y.a.Control,{type:"text",name:"name",ref:a,className:"form-control ".concat(n.name?"is-invalid":"")}),n.name&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:n.name.message})]}),Object(d.jsx)(E.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})})},ee=X.a().shape({name:X.b().required("insert data")}),te=function(){var e=Object(m.g)(),t=Object(m.h)().id,a=Object(K.b)({resolver:Object(Q.a)(ee)}),c=a.register,r=a.handleSubmit,s=a.formState.errors,i=a.setValue,l=n.a.useCallback(Object(f.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.codingthailand.com/api/category/".concat(t));case 2:a=e.sent,i("name",a.data.name);case 4:case"end":return e.stop()}}),e)}))),[t,i]);n.a.useEffect((function(){l()}),[l]);var o=function(){var a=Object(f.a)(O.a.mark((function a(c){var n;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"https://api.codingthailand.com/api/category",a.next=3,g.a.put("https://api.codingthailand.com/api/category",{id:t,name:c.name});case 3:n=a.sent,alert(n.data.message),e.replace("/category"),console.log(n);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V.a,{className:"mt-4",children:Object(d.jsx)(H.a,{children:Object(d.jsx)(W.a,{xs:12,md:8,children:Object(d.jsxs)(Y.a,{onSubmit:r(o),children:[Object(d.jsxs)(Y.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(Y.a.Label,{children:"Category"}),Object(d.jsx)(Y.a.Control,{type:"text",name:"name",ref:c,className:"form-control ".concat(s.name?"is-invalid":"")}),s.name&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:s.name.message})]}),Object(d.jsx)(E.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})})},ae=["image/jpg","image/jpeg"],ce=function(){var e=Object(m.g)(),t=Object(i.useToasts)().addToast,a=Object(K.b)(),c=a.handleSubmit,n=a.errors,r=a.register;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V.a,{className:"mt-4",children:Object(d.jsx)(H.a,{children:Object(d.jsxs)(W.a,{md:4,children:[Object(d.jsx)("h1",{children:"Upload Image"}),Object(d.jsxs)("form",{onSubmit:c((function(a){console.log(a);try{var c=a.picture[0],n=new FileReader;n.readAsDataURL(c),n.onload=function(){var a=Object(f.a)(O.a.mark((function a(c){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=c.target.result,"https://api.codingthailand.com/api/upload",a.next=4,g.a.post("https://api.codingthailand.com/api/upload",{picture:n});case 4:r=a.sent,t(r.data.data.message,{appearance:"success"}),console.log(r.data.data.url),e.replace("/");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}catch(r){console.log(r),t(JSON.stringify(r),{appearance:"error"})}})),children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"exampleFormControlFile1",children:"Example file input"}),Object(d.jsx)("input",{type:"file",name:"picture",ref:r({required:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e",validate:{checkFileType:function(e){return e&&ae.includes(e[0].type)}}}),className:"form-control-file ".concat(n.picture?"is-invalid":""),id:"exampleFormControlFile1"}),n.picture&&"required"===n.picture.type&&Object(d.jsx)("div",{className:"invalid-feedback",children:n.picture.message}),n.picture&&"checkFileType"===n.picture.type&&Object(d.jsx)("div",{className:"invalid-feedback",children:"\u0e40\u0e09\u0e1e\u0e32\u0e30 .jpg \u0e2b\u0e23\u0e37\u0e2d jpeg"})]}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Upload"})]})]})})})})},ne=X.a().shape({email:X.b().required("insert email").email("insert email format"),password:X.b().required("insert password").min(3,"password 3 \u0e15\u0e31\u0e27")}),re=function(){var e=Object(i.useToasts)().addToast,t=Object(m.g)(),a=n.a.useContext(b),c=Object(K.b)({resolver:Object(Q.a)(ne)}),r=c.register,s=c.handleSubmit,l=c.formState.errors,o=function(){var c=Object(f.a)(O.a.mark((function c(n){var r,s,i;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,"https://api.codingthailand.com/api/login",c.next=4,g.a.post("https://api.codingthailand.com/api/login",{email:n.email,password:n.password});case 4:return r=c.sent,localStorage.setItem("token",JSON.stringify(r.data)),"https://api.codingthailand.com/api/profile",c.next=9,g.a.get("https://api.codingthailand.com/api/profile",{headers:{Authorization:"Bearer ".concat(r.data.access_token)}});case 9:s=c.sent,localStorage.setItem("profile",JSON.stringify(s.data.data.user)),e("Login Success",{appearance:"success"}),i=JSON.parse(localStorage.getItem("profile")),a.updateProfile(i),t.replace("/"),c.next=20;break;case 17:c.prev=17,c.t0=c.catch(0),e(c.t0.response.data.message,{appearance:"error"});case 20:case"end":return c.stop()}}),c,null,[[0,17]])})));return function(e){return c.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V.a,{className:"mt-4",children:Object(d.jsx)(H.a,{children:Object(d.jsx)(W.a,{xs:12,md:8,children:Object(d.jsxs)(Y.a,{onSubmit:s(o),children:[Object(d.jsxs)(Y.a.Group,{controlId:"Email",children:[Object(d.jsx)(Y.a.Label,{children:"email"}),Object(d.jsx)(Y.a.Control,{type:"email",name:"email",ref:r,className:"form-control ".concat(l.email?"is-invalid":"")}),l.email&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:l.email.message})]}),Object(d.jsxs)(Y.a.Group,{controlId:"Password",children:[Object(d.jsx)(Y.a.Label,{children:"password"}),Object(d.jsx)(Y.a.Control,{type:"password",name:"password",ref:r,className:"form-control ".concat(l.password?"is-invalid":"")}),l.password&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:l.password.message})]}),Object(d.jsx)(E.a,{variant:"primary",type:"submit",children:"Register"})]})})})})})},se=X.a().shape({name:X.b().required("insert name"),email:X.b().required("insert email").email("insert email format"),password:X.b().required("insert password").min(3,"password 3 \u0e15\u0e31\u0e27")}),ie=function(){var e=Object(i.useToasts)().addToast,t=Object(m.g)(),a=Object(K.b)({resolver:Object(Q.a)(se)}),c=a.register,n=a.handleSubmit,r=a.formState.errors,s=function(){var a=Object(f.a)(O.a.mark((function a(c){var n;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,"https://api.codingthailand.com/api/register",a.next=4,g.a.post("https://api.codingthailand.com/api/register",{name:c.name,email:c.email,password:c.password});case 4:n=a.sent,e(n.data.message,{appearance:"success"}),t.replace("/login"),console.log(n),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),e(a.t0.response.data.errors.email[0],{appearance:"error"});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V.a,{className:"mt-4",children:Object(d.jsx)(H.a,{children:Object(d.jsx)(W.a,{xs:12,md:8,children:Object(d.jsxs)(Y.a,{onSubmit:n(s),children:[Object(d.jsxs)(Y.a.Group,{controlId:"Name",children:[Object(d.jsx)(Y.a.Label,{children:"Name"}),Object(d.jsx)(Y.a.Control,{type:"text",name:"name",ref:c,className:"form-control ".concat(r.name?"is-invalid":"")}),r.name&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:r.name.message})]}),Object(d.jsxs)(Y.a.Group,{controlId:"Email",children:[Object(d.jsx)(Y.a.Label,{children:"email"}),Object(d.jsx)(Y.a.Control,{type:"email",name:"email",ref:c,className:"form-control ".concat(r.email?"is-invalid":"")}),r.email&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:r.email.message})]}),Object(d.jsxs)(Y.a.Group,{controlId:"Password",children:[Object(d.jsx)(Y.a.Label,{children:"password"}),Object(d.jsx)(Y.a.Control,{type:"password",name:"password",ref:c,className:"form-control ".concat(r.password?"is-invalid":"")}),r.password&&Object(d.jsx)(Y.a.Control.Feedback,{type:"invalid",children:r.password.message})]}),Object(d.jsx)(E.a,{variant:"primary",type:"submit",children:"Register"})]})})})})})},le=function(){var e=n.a.useContext(b),t=n.a.useState(""),a=Object(j.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.codingthailand.com/api/version");case 2:t=e.sent,r(t.data.data.version);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){s()}),[]),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsx)("h2",{children:"\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01"}),e.profile?Object(d.jsxs)("p",{children:["welcome ",e.profile.name," email : ",e.profile.email]}):null,c&&Object(d.jsxs)("p",{children:["Backend API VERSION : ",c]})]})})})},oe=a(97),je=a(149);function de(e){var t=e.children,a=Object(je.a)(e,["children"]),c=!1;return JSON.parse(localStorage.getItem("token"))&&(c=!0),Object(d.jsx)(m.b,Object(oe.a)(Object(oe.a)({},a),{},{render:function(e){var a=e.location;return c?t:Object(d.jsx)(m.a,{to:{pathname:"/login",state:{from:a}}})}}))}var be=new l.a;var ue=function(){return Object(d.jsx)(u,{children:Object(d.jsx)(i.ToastProvider,{placement:"bottom-center",autoDismiss:!0,autoDismissTimeout:3e3,children:Object(d.jsx)(o.a,{client:be,children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(P,{}),Object(d.jsxs)(m.d,{children:[Object(d.jsx)(m.b,{exact:!0,path:"/",children:Object(d.jsx)(J,{})}),Object(d.jsx)(m.b,{path:"/about",children:Object(d.jsx)(I,{})}),Object(d.jsx)(m.b,{path:"/product",children:Object(d.jsx)(z,{})}),Object(d.jsx)(m.b,{path:"/detail/:id/title/:title",children:Object(d.jsx)(D,{})}),Object(d.jsx)(m.b,{path:"/hospital",children:Object(d.jsx)(C,{})}),Object(d.jsx)(m.b,{path:"/upload",children:Object(d.jsx)(ce,{})}),Object(d.jsx)(m.b,{path:"/login",children:Object(d.jsx)(re,{})}),Object(d.jsx)(m.b,{path:"/register",children:Object(d.jsx)(ie,{})}),Object(d.jsx)(de,{path:"/member",children:Object(d.jsx)(le,{})}),Object(d.jsx)(m.b,{path:"/category",render:function(e){var t=e.match.url;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.b,{path:"".concat(t,"/"),exact:!0,children:Object(d.jsx)(G,{})}),Object(d.jsx)(m.b,{path:"".concat(t,"/create"),children:Object(d.jsx)($,{})}),Object(d.jsx)(m.b,{path:"".concat(t,"/edit/:id"),children:Object(d.jsx)(te,{})})]})}})]}),Object(d.jsx)(p,{})]})})})})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,734)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(ue,{}),document.getElementById("root")),he()}},[[713,1,2]]]);
//# sourceMappingURL=main.61f5c09b.chunk.js.map